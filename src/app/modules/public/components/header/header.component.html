<ngx-ui-loader
  [bgsOpacity]="0.5"
  [bgsColor]="'#41464e'"
  [bgsPosition]="'bottom-right'"
  [bgsSize]="20"
  [bgsType]="'wandering-cubes'"
  [fgsColor]="'#323343'"
  [fgsPosition]="'center-center'"
  [fgsSize]="70"
  [fgsType]="'wandering-cubes'"
  [gap]="25"
  [logoPosition]="'center-center'"
  [logoSize]="100"
  logoUrl="https://res.cloudinary.com/dvvhnrvav/image/upload/v1730395938/images-AR/wyicw2mh3xxocscx0diz.png"
  masterLoaderId="'master'"
  [overlayBorderRadius]="'0'"
  [overlayColor]="'#fbfaf8'"
  [pbColor]="'#5F6467FF'"
  [pbDirection]="'ltr'"
  [pbThickness]="3"
  [hasProgressBar]="true"
  [text]="'Espere un momento...'"
  [textColor]="'#333b43'"
  [textPosition]="'center-center'"
  
></ngx-ui-loader>



<!-- <p-dialog 
header="Header" 
[modal]="true" 
[(visible)]="visible" 
[style]="{ width: '50rem' }" 
[breakpoints]="{ '1199px': '75vw', '575px': '90vw' }" 
[maximizable]="true"> -->
<p-dialog 
[modal]="true" 
[(visible)]="visible" 
[style]="{ width: '30rem' }" >
<div class="login-container">
  <div class="login-card">
    <img src="{{logo}}" alt="Logo de la empresa" class="logo-atelier" />

    <h2>Iniciar sesiÃ³n</h2>
    <p class="register-text">Â¿No tienes cuenta? <a (click)="redirectTo('Sign-up')">RegÃ­strate</a></p>
    <form  class="form-box" [formGroup]="loginForm" (ngSubmit)="login()" method="post">
      <div class="input-group">
        <label for="email">Email</label>
      <p-inputGroup>
<!--         
        <p-inputGroupAddon>
          <i class="pi pi-envelope"></i>
        </p-inputGroupAddon> -->
        <input
          pInputText
          type="text"
          placeholder="Introduce tu correo electrÃ³nico"
          formControlName="email"
          id="email"
          class="input-login"
          required
          [disabled]="isLocked"
        />
      </p-inputGroup>
      </div>
      <div class="input-group">
        <label for="password">ContraseÃ±a</label>
        <p-inputGroup class="input-group">
          <p-password
            formControlName="password"
            [toggleMask]="true"
            promptLabel="Ingresa tu contraseÃ±a"
            weakLabel="Muy simple"
            strongRegex="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$"
            mediumRegex="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9]).{6,}$"
            inputStyleClass="input-login"
            mediumLabel="Mediana mente segura"
            strongLabel="ContraseÃ±a segura"
            placeholder="ContraseÃ±a segura"
          >
            <ng-template pTemplate="header">
              <h6>Escoge una contraseÃ±a</h6>
            </ng-template>
            <ng-template pTemplate="footer">
              <p-divider></p-divider>
              <p>Sugerencias</p>
              <ul>
                <li [ngClass]="{'hidden': hasLowercase}">
                  Al menos una letra minÃºscula
                </li>
                <li [ngClass]="{'hidden': hasUppercase}">
                  Al menos una letra mayÃºscula
                </li>
                <li [ngClass]="{'hidden': hasNumber}">Al menos un nÃºmero</li>
                <li [ngClass]="{'hidden': hasSpecialChar}">
                  Al menos un carÃ¡cter especial
                </li>
                <li [ngClass]="{'hidden': hasMinLength}">MÃ­nimo 8 caracteres</li>
              </ul>
            </ng-template>
          </p-password>
        </p-inputGroup>
      </div>
      <p class="forgot-password">
        <a (click)="redirectTo('forgot-password')"> 
          Â¿Olvidaste tu contraseÃ±a?

        </a>
      </p>
      <div
      id="captcha-container"
      class="g-recaptcha"
      data-sitekey="6Ld8joAqAAAAABuc_VUhgDt7bzSOYAr7whD6WeNI"
      data-theme="light"
    ></div>
    <!-- <div class="mt-3" id="cloudflare-captcha-signin"></div> -->
    <div
      *ngIf="errorMessage && errorMessage.includes('ContraseÃ±a')"
      class="errorMenssage"
    >
    {{ errorMessage }}
  </div>
  <button type="submit" class="btn login-btn">Iniciar sesiÃ³n</button>
      <!-- <div class="social-login">
        <button class="btn google-btn">Ingresar con Google</button>
        <button class="btn facebook-btn">Ingresar con Facebook</button>
      </div> -->
    </form>
    <div class="footer-links">
      <!-- <a redirecto("terminos")>TÃ©rminos y Condiciones</a> |//- -->
      <a (click)="redirectTo('terminos')">TÃ©rminos y Condiciones</a> |//+
      <a (click)="redirectTo('politicas')">PolÃ­tica de Privacidad</a> |
      <!-- <a href="#">Preguntas Frecuentes</a> -->
    </div>
  </div>
</div>
</p-dialog>



<!-- <body> -->
<header class="app-header" [ngClass]="{ scrolled: isScrolled }">
  <!-- <nav> -->
  <nav class="marquee-container" style="text-align: center">
    <div class="marquee" id="item1">ðŸ”¥ Â¡CÃ³mpralo ya! ðŸ”¥</div>
    <div class="marquee" id="item2">âœ¨Â¡Elige a tu gusto !âœ¨</div>
    <div class="marquee" id="item3">ðŸ”¥ Â¡Aprovecha ahora! ðŸ”¥</div>
  </nav>
  <!-- </nav> -->
  <nav class="nav-one">
    <nav class="navbar-one flex">
      <div class="left flex">
        <div class="email">
          <i class="fa fa-map-marker-alt"></i>
        </div>
        <div class="call">
          <i class="fa-brands fa-whatsapp"></i>
        </div>
      </div>
      <div class="right flex">
        <div class="facebook">
          <i class="fab fa-facebook"></i>
        </div>
        <div class="instagram">
          <i class="fab fa-instagram"></i>
        </div>
        <div class="theme" (click)="toggleTheme()">
          <i
            [ngClass]="
              themeService.getTheme() === 'light' ? 'pi pi-sun' : 'pi pi-moon'
            "
          ></i>
        </div>
      </div>
    </nav>
  </nav>
  <nav class="navbar-second flex" [ngClass]="{ sticky: isSticky }">
    <div class="logo">
      <!--  <div
        class="logo1"
        [style.backgroundImage]="
          'url(' + (isSticky ? imageUrl : defaultImageUrl) + ')'
        "
      ></div> -->
      <img *ngIf="isSticky" [src]="imageUrl" alt="logo" class="logo1" />
      <span *ngIf="!isSticky" class="titulo"> {{ nombreDeLaPagina }}</span>
    </div>
    <ul *ngIf="!isMobile" class="nav-menu flex">
      <li><a (click)="redirectTo('home')">Home</a></li>
      <li><a (click)="redirectTo('AcercaDe')"> Acerca de nosotros </a></li>
      <li><a (click)="redirectTo('AcercaDe')"> Historial </a></li>
    </ul>
    

    <ul class="nav-accion">
      <li>
        <div class="ui search" [ngClass]="{ loading: isLoading }">
          <div class="ui icon input">
            <input
              class="prompt"
              type="text"
              placeholder="Buscar en atelier..."
              [(ngModel)]="searchQuery"
              (keyup.enter)="onSearch()"
            />
            <i class="search icon"></i>
          </div>
        </div>
      </li>
      <li>
        <i class="pi pi-shopping-cart"></i>
      </li>
      <li class="IsMobile" *ngIf="!isMobile">
        <a tabindex="0" class="nav-icon" (click)="openModal()">
        <!-- <a tabindex="0" class="nav-icon" (click)="togglePopup()"> -->
          <i class="fa-regular fa-user"></i>
          <ul class="muestra-opciones-user" *ngIf="popupVisible">
            <li
              *ngFor="let item of items"
              (click)="
                item.command ? item.command({ originalEvent: $event }) : null
              "
            >
              <i [class]="item.icon"></i> {{ item.label }}
            </li>
          </ul>
        </a>
      </li>

      <li *ngIf="isMobile">
        <i (click)="showDialog()" class="fa-solid fa-bars-staggered"></i>
      </li>
    </ul>
  </nav>
</header>

<!-- <body> -->
<p-sidebar [(visible)]="sidebarVisible" position="left" styleClass="w-30rem">
  <ng-template pTemplate="header" style="justify-content: center">
    <!-- <span class="font-semibold text-xl">Atelier</span> -->
    <img
      style="weight: 25px; height: 25px; margin-right: 30px; margin-left: 30px"
      src="https://res.cloudinary.com/dvvhnrvav/image/upload/v1730313785/images-AR/ic5srzm6tzqyrosaexan.png"
      alt=""
      srcset=""
    />
  </ng-template>

  <!-- <div class="resize-handle" (mousedown)="startResizing($event)"></div> -->
  <div class="menu-content">
    <ul>
      <li>
        <a tabindex="0" (click)="redirectTo('Home')">
          <i class="pi pi-home"></i> Home
        </a>
      </li>
      <li
        *ngFor="let item of items"
        (click)="item.command ? item.command({ originalEvent: $event }) : null"
      >
        <i [class]="item.icon"></i> {{ item.label }}
      </li>
      <!-- <li>
        <a tabindex="0" (click)="redirectTo('Sign-in')">
          <i class="pi pi-sign-in"></i> Iniciar sesiÃ³n
        </a>
      </li>
      <li>
        <a tabindex="0" (click)="redirectTo('Sign-up')">
          <i class="pi pi-user-plus"></i> Registrarme
        </a>
      </li>
      <li>
        <a tabindex="0" (click)="redirectTo('Config')">
          <i class="pi pi-cog"></i> ConfiguraciÃ³n
        </a>
      </li> -->
      <li>
        <a tabindex="0" (click)="redirectTo('AcercaDe')">
          <i class="pi pi-info-circle"></i> Acerca de Atelier
        </a>
      </li>
    </ul>
  </div>
  
  <!-- Mango para redimensionar -->
</p-sidebar>

<!-- <div class="resize-handle" (mousedown)="startResizing($event)"></div> -->
