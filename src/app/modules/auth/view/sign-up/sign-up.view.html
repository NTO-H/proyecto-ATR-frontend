<div
  data-aos="fade-up"
  data-aos-anchor-placement="top-bottom"
  class="container-form"
>
  <div class="back-button">
    <a routerLink="/public/home" class="go-back">
      <i class="fas fa-chevron-left"></i> Ir atr√°s
    </a>
  </div>
  <div class="card">
    <div class="logo-container">
      <img
        src="https://res.cloudinary.com/dvvhnrvav/image/upload/v1726496561/images-AR/n7cjxwmizj0ath7oegjq.png"
        alt="Atelier logo"
        class="logo"
      />
    </div>
    <div *ngIf="!ViewActivateAcount"> 
      <h1>Crea una cuenta</h1>
      <ul class="features-list">
        <li>
          <i class="fas fa-shield-alt icon"></i> Pagos seguros y confiables
        </li>
        <li><i class="fas fa-exchange-alt icon"></i> Transferencias r√°pidas</li>
        <li><i class="fas fa-percent icon"></i> Comisiones justas</li>
        <li>
          <i class="fas fa-chart-line icon"></i> Mejores tarifas disponibles
        </li>
        <li><i class="fas fa-thumbs-up icon"></i> Conveniencia</li>
      </ul>
    </div>
  </div>
  <p-stepper *ngIf="!ViewActivateAcount" [linear]="true">
    <!-- Primer paso -->
    <p-stepperPanel header="Informaci√≥n b√°sica">
      <ng-template
        let-nextCallback="nextCallback"
        let-index="index"
        pTemplate="content"
      >
        <form
          [formGroup]="datosBasicosForm"
          (ngSubmit)="registroDatosBasicos()"
        >
          <label for="username">Nombre de usuario</label>
          <input
            type="text"
            formControlName="username"
            placeholder="Introduce tu nombre de usuario"
            [maxlength]="10"
          />
          <span
            *ngIf="datosBasicosForm.get('username')?.invalid && datosBasicosForm.get('username')?.touched"
            class="text-danger"
          >
            El campo de nombre de usuario es requerido.
          </span>

          <label for="email">Correo Electr√≥nico</label>
          <input
            type="email"
            formControlName="email"
            placeholder="Introduce tu correo electr√≥nico"
            required
          />
          <span
            *ngIf="datosBasicosForm.get('email')?.invalid && datosBasicosForm.get('email')?.touched"
            class="text-danger"
          >
            El correo electr√≥nico debe ser v√°lido.
          </span>

          <label for="tel">N√∫mero telef√≥nico</label>
          <p-inputMask
            id="tel"
            mask="+52 999 999 9999"
            formControlName="telefono"
            placeholder="Introduce tu n√∫mero telef√≥nico"
          ></p-inputMask>
          <span
            *ngIf="datosBasicosForm.get('telefono')?.invalid && datosBasicosForm.get('telefono')?.touched"
            class="text-danger"
          >
            El n√∫mero telef√≥nico es requerido y debe ser v√°lido.
          </span>
        </form>

        <div class="flex justify-content-end pt-4">
          <!-- <p-button label="Next" icon="pi pi-arrow-right" iconPos="right" (onClick)="registroDatosBasicos()" /> -->
          <p-button
            label="Next"
            icon="pi pi-arrow-right"
            iconPos="right"
            (onClick)="nextCallback.emit()"
            [disabled]="!datosBasicosForm.valid"
          />
          <!-- Deshabilita el bot√≥n si el formulario no es v√°lido -->
        </div>
      </ng-template>
    </p-stepperPanel>

    <!-- Segundo paso -->
    <p-stepperPanel header="Informaci√≥n confidencial">
      <ng-template
        let-prevCallback="prevCallback"
        let-nextCallback="nextCallback"
        let-index="index"
        pTemplate="content"
      >
        <div data-aos="fade-left">
          <form
            [formGroup]="datosConfidencialesForm"
            (ngSubmit)="registroDatosConfidenciales()"
          >
            <label for="password">Contrase√±a</label>
            <p-password
              formControlName="password"
              (input)="verificarPassword()"
              [styleClass]="'my-custom-class'"
              placeholder="Introduce tu contrase√±a"
              [toggleMask]="true"
            >
              <ng-template pTemplate="footer">
                <p class="mt-2">Requisitos</p>
                <ul class="passwordStrength" style="line-height: 1.5">
                  <!-- <ul

            class="passwordStrength"
            style="line-height: 1.5; list-style-type: none"
          > -->
                  <li
                    [ngClass]="{'text-success': validacionesPassword.tieneMinuscula}"
                  >
                    <span *ngIf="validacionesPassword.tieneMinuscula">‚úÖ</span>
                    <span *ngIf="!validacionesPassword.tieneMinuscula">üîò</span>
                    Al menos una letra min√∫scula
                  </li>
                  <li
                    [ngClass]="{'text-success': validacionesPassword.tieneMayuscula}"
                  >
                    <span *ngIf="validacionesPassword.tieneMayuscula">‚úÖ</span>
                    <span *ngIf="!validacionesPassword.tieneMayuscula">üîò</span>
                    Al menos una letra may√∫scula
                  </li>
                  <li
                    [ngClass]="{'text-success': validacionesPassword.tieneNumero}"
                  >
                    <span *ngIf="validacionesPassword.tieneNumero">‚úÖ</span>
                    <span *ngIf="!validacionesPassword.tieneNumero">üîò</span>
                    Al menos un n√∫mero
                  </li>
                  <li
                    [ngClass]="{'text-success': validacionesPassword.longitudMinima}"
                  >
                    <span *ngIf="validacionesPassword.longitudMinima">‚úÖ</span>
                    <span *ngIf="!validacionesPassword.longitudMinima">üîò</span>
                    M√≠nimo 8 caracteres
                  </li>
                </ul>
              </ng-template>
            </p-password>

            <label for="confirmPassword">Confirma tu contrase√±a</label>
            <p-password
              formControlName="confirmPassword"
              placeholder="Confirma tu contrase√±a"
              [toggleMask]="true"
            ></p-password>
            <!-- [ngClass]="{'is-valid': coincidenPasswords, 'is-invalid': !coincidenPasswords && formulario.get('confirmPassword')?.touched}" -->
            <span
              *ngIf="datosConfidencialesForm.get('confirmPassword')?.invalid && datosConfidencialesForm.get('confirmPassword')?.touched"
              class="text-danger"
            >
              Las contrase√±as no coinciden.
            </span>
          </form>
        </div>
        <div class="flex justify-content-between pt-4">
          <p-button
            label="Back"
            icon="pi pi-arrow-left"
            (onClick)="prevCallback.emit()"
          />
          <p-button
            label="Next"
            icon="pi pi-arrow-right"
            [disabled]="!datosConfidencialesForm.valid"
            (onClick)="nextCallback.emit()"
          />
        </div>
      </ng-template>
    </p-stepperPanel>

    <!-- Tercer paso -->
    <p-stepperPanel header="Pol√≠ticas y privacidad">
      <ng-template
        let-prevCallback="prevCallback"
        let-index="index"
        pTemplate="content"
      >
        <div data-aos="fade-left">
          <form [formGroup]="politicasForm" (ngSubmit)="registroCliente()">
            <div class="purchase-terms-container">
              <p>
                Tus datos personales se utilizar√°n para procesar tu compra,
                mejorar tu experiencia en esta web y otros prop√≥sitos descritos
                en nuestra
                <a href="#" target="_blank">pol√≠tica de privacidad</a>.
              </p>

              <div class="checkbox-terms">
                <input type="checkbox" formControlName="acceptTerms" />
                <label>
                  Acepto la
                  <a href="#" target="_blank">pol√≠tica de privacidad</a>, los
                  <a href="#" target="_blank">t√©rminos y condiciones</a> y
                  confirmo que soy mayor de 18 a√±os.
                </label>
              </div>
            </div>

            <div class="flex justify-content-between pt-4">
              <p-button
                label="Back"
                icon="pi pi-arrow-left"
                (onClick)="prevCallback.emit()"
              />
              <p-button
                [disabled]="!politicasForm.valid"
                label="Registrarme"
                icon="pi pi-check"
                type="submit"
              />
            </div>
          </form>
        </div>
      </ng-template>
    </p-stepperPanel>
  </p-stepper>


<!-- Activacuon de cuenta] -->
  <!-- Formulario para ingresar correo electr√≥nico -->
  <!-- <div class="form-container" *ngIf="ViewActivateAcount">
    <form [formGroup]="formulario" (ngSubmit)="sendVerificationCode()" class="centered-form">
      <div class="form-group">
        <label for="email">Correo Electr√≥nico</label>
        <br />
        <input
          type="email"
          id="email"
          formControlName="email"
          name="email"
          pInputText
          class="form-control"
          placeholder="Ingresa tu correo"
          required
        />
      </div>
      <p-button iconPos="right" type="submit" label="Enviar C√≥digo"></p-button>
    </form>
  </div> -->

  <!-- Formulario para verificar el c√≥digo OTP -->
  <div class="form-container"  *ngIf="ViewActivateAcount">
    <h2>Obt√©n la verificaci√≥n en tu correo</h2>
    <h5>Para fines de seguridad, ingresa el c√≥digo que hemos enviado a <strong>{{myGlobalVariable }}</strong> a continuaci√≥n.</h5>
    <form [formGroup]="frmActivateAcount" (ngSubmit)="verifyOtp()" class="centered-form">
      <label for="otp">Ingresa el c√≥digo de verificaci√≥n</label>
      <br>
      <p-inputOtp formControlName="otpCode" name="otpCode"></p-inputOtp>
      <br />
      <p-button type="submit" label="Verificar C√≥digo"></p-button>
    </form>
  </div>









</div>
